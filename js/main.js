(this.webpackJsonpproto=this.webpackJsonpproto||[]).push([[0],{1:function(e,t,a){e.exports={wrapper:"DealItem_wrapper__2f1kL",wrapperCaption:"DealItem_wrapperCaption__2aqdb",image:"DealItem_image__qHEgN",blur:"DealItem_blur__2rcJ3",blurWrapper:"DealItem_blurWrapper__3V4sF",blurImage:"DealItem_blurImage__2_mJD",location:"DealItem_location__2xFm8",caption:"DealItem_caption__3BgWJ",caption_link:"DealItem_caption_link__2GW21",contentList:"DealItem_contentList__3qBLD",content:"DealItem_content__2ixEz",activeContent:"DealItem_activeContent__2lrap",contentWrap:"DealItem_contentWrap__2G3kI",hotelInformation:"DealItem_hotelInformation__1dwO0",dayNames:"DealItem_dayNames__3cJop",datesWrap:"DealItem_datesWrap__kORdC",dates:"DealItem_dates__y-vrO",hotel:"DealItem_hotel__28JMe",rating:"DealItem_rating__1PBG_",hotelName:"DealItem_hotelName__37NYn",reviewScore:"DealItem_reviewScore__2nc_o",detailsButton:"DealItem_detailsButton__2M8yy",moreOffers:"DealItem_moreOffers__1Jeot",details:"DealItem_details__3qVvB",detailsDate:"DealItem_detailsDate__2RtCY",plane:"DealItem_plane__l4iqa",detailsTime:"DealItem_detailsTime__2YB-h",detailsLanding:"DealItem_detailsLanding__3XEKC",detailsHour:"DealItem_detailsHour__3mExq",line:"DealItem_line__2b6cN",reservation:"DealItem_reservation__ZGPOL",makeReservation:"DealItem_makeReservation__1mAzU",price:"DealItem_price__1l-Bs",priceWrap:"DealItem_priceWrap__1qyfU",orangeStar:"DealItem_orangeStar__3GdzK",greyStar:"DealItem_greyStar__5jSkI",sticky:"DealItem_sticky__3zhS5"}},14:function(e,t,a){e.exports={chipWrap:"style_chipWrap__Exnta",chipContent:"style_chipContent__3Ecys",chip:"style_chip__110tV",chipLabel:"style_chipLabel__3rZ7S"}},16:function(e,t,a){e.exports={formWrap:"Filter_formWrap__ENCfg",form:"Filter_form__1HTVz",results:"Filter_results__32iM2",inputWrap:"Filter_inputWrap__1SQfc",button:"Filter_button__1B6jc"}},17:function(e,t,a){e.exports={App:"App_App__3bDxu",title:"App_title__28Y6X"}},18:function(e,t,a){e.exports={loading:"styles_loading__1kKjp",loadingMobile:"styles_loadingMobile__3IX27",loadingDesktop:"styles_loadingDesktop__2MA_8"}},2:function(e,t,a){e.exports={wrapper:"style_wrapper__10wTO",label:"style_label__2IG4i",activeLabel:"style_activeLabel__FfH7Y",optionList:"style_optionList__XaP8G",optionListWrapper:"style_optionListWrapper__xg1g-",optionListShadow:"style_optionListShadow__2rvTj",optionListItem:"style_optionListItem__IVAAf",optionListItemActive:"style_optionListItemActive__3ae_3",optionListHeader:"style_optionListHeader__38sW0",optionListButtons:"style_optionListButtons__1-e2n",starsWrap:"style_starsWrap__3aS_0",active:"style_active__3tt3Q",button:"style_button__2rVAA",buttonOutline:"style_buttonOutline__23DHS",square:"style_square__1O0wL",searchInput:"style_searchInput__1QPjM",yearsSelect:"style_yearsSelect__38k-T",yearsWrap:"style_yearsWrap__3gVLd",yearList:"style_yearList__1grYj",yearItem:"style_yearItem__2kW6w",right:"style_right__2jxhW",left:"style_left__1ltCn"}},22:function(e,t,a){e.exports={information:"DealsList_information__3YZz8",list:"DealsList_list__1I6DG"}},28:function(e,t,a){e.exports=a(40)},33:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(25),i=a.n(o),l=(a(33),a(12)),c=a(10),s=a(3),u=a(4),d=a(8),m=a.n(d),p=a(6),_=a(17),h=a.n(_),f=a(16),v=a.n(f),g=a(2),b=a.n(g);function y(e,t){return void 0!==t?window.Translator.trans(e,t):window.Translator.trans(e)}var k=function(e){var t=e.position,a=e.label,o=(e.options,e.handleChange),i=(e.defaultValue,e.showSearch),l=(e.activeFirst,e.value),c=e.showVariants,d=e.setShowVariants,m=Object(r.useState)(l),p=Object(u.a)(m,2),_=p[0],h=p[1],f=Object(r.useState)(""),v=Object(u.a)(f,2),g=v[0],k=v[1];Object(r.useEffect)((function(){h(l)}),[l]);var w=Object(r.useRef)(null);return n.a.createElement("div",{className:b.a.wrapper},n.a.createElement("div",{ref:w,className:"".concat(b.a.label," ").concat(c||l.filter((function(e){return e.active})).length>0?b.a.activeLabel:null),onClick:function(){w.current.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"}),d(!c)}},a),c?n.a.createElement("div",{className:"".concat(b.a.optionListWrapper," ").concat("right"===t?b.a.right:"")},n.a.createElement("div",{className:b.a.optionListHeader},n.a.createElement("span",null,a)," ",n.a.createElement("span",{onClick:function(){o(_.map((function(e){return Object(s.a)({},e,{active:!1})}))),h(_.map((function(e){return Object(s.a)({},e,{active:!1})}))),d(!1)}},y("deals.filter.clearAll"))),i?n.a.createElement("input",{className:b.a.searchInput,type:"text",value:g,onChange:function(e){return k(e.target.value)},placeholder:"Search and select cities for filter"}):null,n.a.createElement("ul",{className:b.a.optionList},_.filter((function(e){return e.label.toLowerCase().includes(g.toLowerCase())})).map((function(e){var t,a=e.value,r=e.label,o=e.active;return n.a.createElement("li",{key:a,className:b.a.optionListItem,onClick:(t=a,function(){h((function(e){return e.map((function(e){return e.value!==t?e:Object(s.a)({},e,{active:!e.active})}))}))})},o?n.a.createElement("div",{className:b.a.optionListItemActive},n.a.createElement("i",{className:"fa fa-check-square","aria-hidden":"true"})):n.a.createElement("div",{className:b.a.square}),n.a.createElement("span",{className:o?b.a.active:""},r))}))),n.a.createElement("div",{className:b.a.optionListButtons},n.a.createElement("button",{className:"".concat(b.a.button," ").concat(b.a.buttonOutline),onClick:function(){return d(!1)}},y("deals.filter.cancel")),n.a.createElement("button",{className:b.a.button,onClick:function(){o(_),d(!1)}},y("deals.filter.done"))),n.a.createElement("div",{className:b.a.optionListShadow,onClick:function(){return d(!1)}})):null)},w=function(e){e.position;var t=e.label,a=e.handleChange,o=(e.defaultValue,e.showSearch,e.value),i=e.showVariants,l=e.setShowVariants,c=Object(r.useState)(o),d=Object(u.a)(c,2),m=d[0],p=d[1];Object(r.useEffect)((function(){p(o)}),[o]);var _=Object(r.useRef)(null);return n.a.createElement("div",{className:b.a.wrapper},n.a.createElement("div",{ref:_,className:"".concat(b.a.label," ").concat(i||o.filter((function(e){return e.active})).length>0?b.a.activeLabel:null),onClick:function(){_.current.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"}),l(!i)}},t),i?n.a.createElement("div",{className:b.a.optionListWrapper},n.a.createElement("div",{className:b.a.optionListHeader},n.a.createElement("span",null,t)," ",n.a.createElement("span",{onClick:function(){a(m.map((function(e){return Object(s.a)({},e,{active:!1})}))),p(m.map((function(e){return Object(s.a)({},e,{active:!1})}))),l(!1)}},y("deals.filter.clearAll"))),n.a.createElement("ul",{className:b.a.optionList},m.map((function(e){var t,a=e.value,r=e.label,o=e.active;return n.a.createElement("li",{key:a,className:b.a.optionListItem,onClick:(t=a,function(){p((function(e){return e.map((function(e){return e.value!==t?e:Object(s.a)({},e,{active:!e.active})}))}))})},o?n.a.createElement("div",{className:b.a.optionListItemActive},n.a.createElement("i",{className:"fa fa-check-square","aria-hidden":"true"})):n.a.createElement("div",{className:b.a.square}),n.a.createElement("span",{className:o?b.a.active:""},r))}))),n.a.createElement("div",{className:b.a.optionListButtons},n.a.createElement("button",{className:"".concat(b.a.button," ").concat(b.a.buttonOutline),onClick:function(){return l(!1)}},y("deals.filter.cancel")),n.a.createElement("button",{className:b.a.button,onClick:function(){a(m),l(!1)}},y("deals.filter.done"))),n.a.createElement("div",{className:b.a.optionListShadow,onClick:function(){return l(!1)}})):null)},E=function(e){e.position;var t=e.label,a=e.handleChange,o=(e.defaultValue,e.showSearch),i=(e.activeFirst,e.value),l=e.showVariants,c=e.setShowVariants,d=e.hash,m=e.initialRoute,_=e.handleFilterByCity,h=Object(r.useState)(i),f=Object(u.a)(h,2),v=f[0],g=f[1],k=Object(r.useState)(""),w=Object(u.a)(k,2),E=w[0],D=w[1],N=Object(p.f)();Object(r.useEffect)((function(){g(i)}),[i]);var L=Object(r.useRef)(null);return n.a.createElement("div",{className:b.a.wrapper},n.a.createElement("div",{ref:L,className:"".concat(b.a.label," ").concat(l||i.filter((function(e){return e.active})).length>0?b.a.activeLabel:null),onClick:function(){L.current.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"}),c(!l)}},t),l?n.a.createElement("div",{className:b.a.optionListWrapper},n.a.createElement("div",{className:b.a.optionListHeader},n.a.createElement("span",null,t)," ",n.a.createElement("span",{onClick:function(){a(v.map((function(e){return Object(s.a)({},e,{active:!1})}))),g(v.map((function(e){return Object(s.a)({},e,{active:!1})}))),c(!1)}},y("deals.filter.clearAll"))),o?n.a.createElement("input",{className:b.a.searchInput,type:"text",value:E,onChange:function(e){return D(e.target.value)},placeholder:y("deals.filter.placeholderCities")}):null,n.a.createElement("ul",{className:b.a.optionList},v.filter((function(e){return e.label.toLowerCase().includes(E.toLowerCase())})).map((function(e){var t,a=e.value,r=e.label,o=e.active;return n.a.createElement("li",{key:a,className:b.a.optionListItem,onClick:(t=a,function(){g((function(e){return e.map((function(e){return e.value!==t?e:Object(s.a)({},e,{active:!e.active})}))}))})},o?n.a.createElement("div",{className:b.a.optionListItemActive},n.a.createElement("i",{className:"fa fa-check-square","aria-hidden":"true"})):n.a.createElement("div",{className:b.a.square}),n.a.createElement("span",{className:o?b.a.active:""},r))}))),n.a.createElement("div",{className:b.a.optionListButtons},n.a.createElement("button",{className:"".concat(b.a.button," ").concat(b.a.buttonOutline),onClick:function(){return c(!1)}},y("deals.filter.cancel")),n.a.createElement("button",{className:b.a.button,onClick:function(){if(c(!1),1===v.filter((function(e){return e.active})).length){var e=v.filter((function(e){return e.active}))[0];console.log(e),console.log(_),_(e.value)();var t="/"===m.slice(-1)?"".concat(m).concat(e.value).concat(d):"".concat(m,"/").concat(e.value).concat(d);return N.push(t),null}a(v)}},y("deals.filter.done"))),n.a.createElement("div",{className:b.a.optionListShadow,onClick:function(){return c(!1)}})):null)},D=function(e){var t=e.filters,a=e.setFilters,o=e.countDeals,i=e.hash,l=e.initialRoute,d=e.showCity,m=e.showLocationTheme,p=e.handleFilterByCity,_=Object(r.useRef)(null),h=function(e){return function(t){a((function(a){return Object(s.a)({},a,Object(c.a)({},e,t))}))}},f={cities:!1,airports:!1,themes:!1,hotelStars:!1,dates:!1,nights:!1,preferedVacation:!1,hotelRating:!1},g=Object(r.useState)(f),b=Object(u.a)(g,2),D=b[0],N=b[1],L=function(e){return function(t){N(Object(s.a)({},f,Object(c.a)({},e,t)))}};Object(r.useEffect)((function(){function e(e){_.current&&!_.current.contains(e.target)&&N(f)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[f]);return n.a.createElement("div",{className:v.a.formWrap,ref:_},n.a.createElement("form",{className:v.a.form,style:{width:d?"":"605px"},onSubmit:function(e){return e.preventDefault()}},n.a.createElement("div",{className:v.a.inputWrap},0!==t.cities.length&&d?n.a.createElement(E,{handleChange:h("cities"),label:y("deals.filter.cities"),value:t.cities,showSearch:!0,setShowVariants:L("cities"),showVariants:D.cities,initialRoute:l,hash:i,handleFilterByCity:p}):null,t.airports.length<2?null:n.a.createElement(k,{handleChange:h("airports"),label:y("deals.filter.airport"),value:t.airports,setShowVariants:L("airports"),showVariants:D.airports}),0!==t.themes.length&&m?n.a.createElement(k,{handleChange:h("themes"),label:y("deals.filter.locationTheme"),value:t.themes,setShowVariants:L("themes"),showVariants:D.themes}):null,n.a.createElement(k,{handleChange:h("hotelStars"),label:y("deals.filter.stars"),value:t.hotelStars,setShowVariants:L("hotelStars"),showVariants:D.hotelStars}),n.a.createElement(w,{handleChange:h("dates"),label:y("deals.filter.monthOfTheYear"),value:t.dates,setShowVariants:L("dates"),showVariants:D.dates}),n.a.createElement(k,{handleChange:h("nights"),label:y("deals.filter.nights"),value:t.nights,activeFirst:!0,setShowVariants:L("nights"),showVariants:D.nights}),n.a.createElement(k,{handleChange:h("preferedVacation"),label:y("deals.filter.when"),value:t.preferedVacation,setShowVariants:L("preferedVacation"),showVariants:D.preferedVacation,position:"right"}),n.a.createElement(k,{handleChange:h("hotelRating"),label:y("deals.filter.ratings"),value:t.hotelRating,position:"right",setShowVariants:L("hotelRating"),showVariants:D.hotelRating})),n.a.createElement("div",{className:v.a.results},n.a.createElement("span",null,y("deals.filter.available")),n.a.createElement("span",null,y("deals.filter.results")," ",o))))},N=a(14),L=a.n(N),S=function(e){var t=e.list,a=e.show,r=e.chipLabel,o=e.handleDelete;return a?n.a.createElement("div",{className:L.a.chip},t.filter((function(e){return e.active})).map((function(e){var t=e.value,a=e.label;return n.a.createElement("div",{key:t,className:L.a.chipLabel,onClick:function(){return o(t)}},a," ",n.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))})),n.a.createElement("span",null,r)):null},I=function(e){var t=e.filters,a=e.setFilters,r=(e.initialFilters,e.hash),o=e.initialRoute,i=e.resetFilters,l=t.nights,u=t.hotelRating,d=t.preferedVacation,m=t.hotelStars,_=t.cities,h=t.dates,f=t.themes,v=t.airports,g=Object(p.f)(),b=function(e){return function(t){a((function(a){if("from"===e)return Object(s.a)({},a,Object(c.a)({},e,{year:a.from.year,months:a.from.months.map((function(e){return e.value===t?Object(s.a)({},e,{active:!e.active}):e}))}));var n=a[e].map((function(e){return e.value===t?Object(s.a)({},e,{active:!e.active}):e}));if("cities"===e&&0===n.filter((function(e){return e.active})).length){var i="".concat(o).concat(r);g.push(i)}if("cities"===e&&1===n.filter((function(e){return e.active})).length){var l=n.filter((function(e){return e.active}))[0],u="/"===o.slice(-1)?"".concat(o).concat(l.value).concat(r):"".concat(o,"/").concat(l.value).concat(r);g.push(u)}return Object(s.a)({},a,Object(c.a)({},e,n))}))}},k=!1;for(var w in t)k=0!==t[w].filter((function(e){return e.active})).length||k;return n.a.createElement("div",{className:L.a.chipWrap},n.a.createElement("div",{className:L.a.chipContent},k?n.a.createElement("div",{className:L.a.chip},n.a.createElement("div",{className:L.a.chipLabel,onClick:function(){var e="".concat(o).concat(r);g.push(e),i()}},y("deals.chips.clearAll")," ",n.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))):null,n.a.createElement(S,{chipLabel:":".concat(y("deals.chips.cities")),list:_,show:0!==_.filter((function(e){return e.active})).length,handleDelete:b("cities")}),n.a.createElement(S,{chipLabel:":".concat(y("deals.chips.nights")),list:l,show:0!==l.filter((function(e){return e.active})).length,handleDelete:b("nights")}),n.a.createElement(S,{chipLabel:":".concat(y("deals.chips.theme")),list:f,show:0!==f.filter((function(e){return e.active})).length,handleDelete:b("themes")}),n.a.createElement(S,{chipLabel:":".concat(y("deals.chips.preferedVacation")),list:d,show:0!==d.filter((function(e){return e.active})).length,handleDelete:b("preferedVacation")}),n.a.createElement(S,{chipLabel:":".concat(y("deals.chips.hotelStars")),list:m,show:0!==m.filter((function(e){return e.active})).length,handleDelete:b("hotelStars")}),n.a.createElement(S,{chipLabel:":".concat(y("deals.chips.airports")),list:v,show:0!==v.filter((function(e){return e.active})).length,handleDelete:b("airports")}),n.a.createElement(S,{chipLabel:":".concat(y("deals.chips.dates")),list:h,show:0!==h.filter((function(e){return e.active})).length,handleDelete:b("dates")}),n.a.createElement(S,{chipLabel:":".concat(y("deals.chips.hotelRating")),list:u,show:0!==u.filter((function(e){return e.active})).length,handleDelete:b("hotelRating")})))},C=a(1),j=a.n(C);function O(e,t){var a,r,n,o,i,l,c;switch(c=parseInt(Math.floor(e/1e3)),l=parseInt(Math.floor(c/60)),i=parseInt(Math.floor(l/60)),a=parseInt(Math.floor(i/24)),o=parseInt(c%60),n=parseInt(l%60),r=parseInt(i%24),t){case"s":return c;case"m":return l;case"h":return i;case"d":return a;default:return{d:a,h:r,m:n,s:o}}}var V={translatedMonths:[y("deals.months.January"),y("deals.months.February"),y("deals.months.March"),y("deals.months.April"),y("deals.months.May"),y("deals.months.June"),y("deals.months.July"),y("deals.months.August"),y("deals.months.September"),y("deals.months.October"),y("deals.months.November"),y("deals.months.December")],translatedDays:[y("deals.months.Sunday"),y("deals.months.Monday"),y("deals.months.Tuesday"),y("deals.months.Wednesday"),y("deals.months.Thursday"),y("deals.months.Friday"),y("deals.months.Saturday")]},A=function(e){var t=e.deal,a=Object(r.useState)(!1),o=Object(u.a)(a,2),i=(o[0],o[1],t.hotelData),l=t.flightData,c=t.dealData;l||((l={}).default_inbound={},console.log(l,c.price));for(var s=l,d=(s.takeoff_date,s.takeoff_hour),m=s.landing_hour,p=(s.landing_date,s.travel_duration_format),_=s.default_inbound,h=s.nb_escales,f=s.city_from_airport_code,v=s.city_to_airport_code,g=(s.comp_logo,s.comp_path,l.default_inbound),b=(g.takeoff_date,g.takeoff_hour),k=g.landing_hour,w=(g.landing_date,g.travel_duration_format),E=g.city_from_airport_code,D=g.city_to_airport_code,N=(g.comp_logo,g.comp_path,c.outboundDate),L=c.inboundDate,S=c.price,I=i.rating,C=i.name,A=i.trustYouReviews,R=(i.default_img,[]),T=1;T<=5;T++)T<=I?R.push(n.a.createElement("div",{className:j.a.orangeStar,key:T},n.a.createElement("i",{className:"fa fa-star"}))):R.push(n.a.createElement("div",{className:j.a.greyStar,key:T},n.a.createElement("i",{className:"fa fa-star"})));var M=function(e){return new Date(+e[2],+e[1]-1,+e[0])},U=M(N.split("/")),Y=M(L.split("/")),F=O(Y-U,"d"),z=("".concat(U.getDate(),". ").concat(V.translatedMonths[U.getMonth()]," ").concat(U.getFullYear()),"".concat(Y.getDate(),". ").concat(V.translatedMonths[Y.getMonth()]," ").concat(Y.getFullYear()),V.translatedDays[U.getDay()]),H=V.translatedDays[Y.getDay()];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:j.a.content},n.a.createElement("div",{className:j.a.contentWrap},n.a.createElement("div",{className:j.a.hotelInformation},n.a.createElement("div",{className:j.a.datesWrap},n.a.createElement("span",null,n.a.createElement("span",{className:j.a.dayNames},z,"-",H,","),F," ",y("deals.dealContent.nights")),n.a.createElement("p",{className:j.a.dates},N," - ",L)),n.a.createElement("i",{className:"fa fa-bed ".concat(j.a.hotel),"aria-hidden":"true"}),n.a.createElement("div",{className:j.a.rating},R.reverse()),n.a.createElement("span",{className:j.a.hotelName},C),n.a.createElement("div",{className:j.a.reviewScore},5===A.reviewScore?n.a.createElement("span",null,y("deals.dealContent.best")):4===A.reviewScore?n.a.createElement("span",null,y("deals.dealContent.excelent")):n.a.createElement("span",null,y("deals.dealContent.good"))," ",n.a.createElement("span",null,"(",A.reviewCount," ",y("deals.dealContent.reviews"),")")," ",n.a.createElement("span",null,A.reviewScore,"/5")))),1===Object.values(l).length?null:n.a.createElement("div",{className:j.a.details},n.a.createElement("i",{className:"fa fa-plane ".concat(j.a.plane),"aria-hidden":"true"}),n.a.createElement("div",{className:j.a.detailsDate},n.a.createElement("span",null,y("deals.dealContent.outboundFlight"))),n.a.createElement("div",{className:j.a.detailsTime},n.a.createElement("div",{className:j.a.detailsLanding},n.a.createElement("span",null,m," (",v,")")),n.a.createElement("div",{className:j.a.detailsHour},n.a.createElement("span",null,p.toLowerCase(),"m"),n.a.createElement("div",null,n.a.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"}),n.a.createElement("div",{className:j.a.line}),n.a.createElement("i",{className:"fa fa-sort-desc","aria-hidden":"true"})),n.a.createElement("span",null,0===+h?y("deals.dealContent.directFlight"):"".concat(+h," ").concat(y("deals.dealContent.stops")))),n.a.createElement("div",{className:j.a.detailsLanding},n.a.createElement("span",null,d," (",f,")"))),n.a.createElement("div",{className:j.a.detailsDate},n.a.createElement("span",null,y("deals.dealContent.inboundFlight"))),n.a.createElement("div",{className:j.a.detailsTime},n.a.createElement("div",{className:j.a.detailsLanding},n.a.createElement("span",null,k," (",E,")")),n.a.createElement("div",{className:j.a.detailsHour},n.a.createElement("span",null,w.toLowerCase(),"m"),n.a.createElement("div",null,n.a.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"}),n.a.createElement("div",{className:j.a.line}),n.a.createElement("i",{className:"fa fa-sort-desc","aria-hidden":"true"})),n.a.createElement("span",null,0===+_.nb_escales?y("deals.dealContent.directFlight"):"".concat(+h," ").concat(y("deals.dealContent.stops")))),n.a.createElement("div",{className:j.a.detailsLanding},n.a.createElement("span",null,b," (",D,")")))),n.a.createElement("div",{className:j.a.reservation},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.packageDeeplinkUrl,className:j.a.makeReservation},y("deals.dealContent.reservation")),n.a.createElement("div",{className:j.a.price},n.a.createElement("span",null,y("deals.dealContent.from")),n.a.createElement("div",{className:j.a.priceWrap},n.a.createElement("span",null,y("deals.dealContent.perPerson")),n.a.createElement("span",null,"$",S))))))},R=function(e){var t=e.deals,a=e.hash,r=e.initialRoute,o=e.handleFilterByCity,i=t.cityPhoto,c=t.cityName,s=t.cityId,u="/"===r.slice(-1)?"".concat(r).concat(s).concat(a):"".concat(r,"/").concat(s).concat(a);return n.a.createElement("div",{className:j.a.wrapper},n.a.createElement("div",{className:j.a.sticky},n.a.createElement("img",{src:i,alt:"city",className:j.a.image}),n.a.createElement(l.b,{to:u,className:j.a.caption_link,onClick:o(s)},n.a.createElement("div",{className:j.a.blurWrapper},n.a.createElement("div",{className:j.a.blur},n.a.createElement("img",{src:i,alt:"city",className:j.a.blurImage}))),n.a.createElement("p",{className:j.a.caption},c,n.a.createElement("span",{className:j.a.location},n.a.createElement("i",{className:"fa fa-map-marker"}))),n.a.createElement("div",{className:j.a.wrapperCaption},n.a.createElement("span",null,t.deals.length)," ",y("deals.dealItem.deals")))),n.a.createElement("div",{className:j.a.contentList},t.deals.slice(0,2).map((function(e,t){return n.a.createElement(A,{key:e.dealData.dealId,deal:e})}))),t.deals.length>3?n.a.createElement(l.b,{to:u,className:j.a.moreOffers,onClick:o(s)},y("deals.dealItem.moreOffers")):"")},T=function(e){return e.deals.deals.map((function(e,t){var a=e.hotelData,r=a.name,o=a.default_img;return n.a.createElement("div",{key:t,className:j.a.wrapper},n.a.createElement("img",{src:o.url_medium,alt:"hotel photo",className:j.a.image}),n.a.createElement("div",{className:j.a.blurWrapper},n.a.createElement("div",{className:j.a.blur},n.a.createElement("img",{src:o.url_medium,alt:"hotel photo",className:j.a.blurImage}))),n.a.createElement("p",{className:j.a.caption},n.a.createElement("span",null," ",r),n.a.createElement("span",{className:j.a.location},n.a.createElement("i",{className:"fa fa-map-marker"}))),n.a.createElement("div",{className:j.a.contentList},n.a.createElement(A,{deal:e})))}))},M=a(22),U=a.n(M),Y=function(e){var t=e.deals,a=e.cityDeal,r=e.hash,o=e.initialRoute,i=e.handleFilterByCity;return n.a.createElement("div",{className:U.a.list},0===t.length?n.a.createElement("h5",{className:U.a.information},y("deals.dealList.noFlights"),"."):t.map((function(e,t){return a?n.a.createElement(T,{key:t,deals:e}):n.a.createElement(R,{handleFilterByCity:i,initialRoute:o,key:t,deals:e,hash:r})})))};var F=function(e){var t=e.deals,a=Object(p.h)().city,r=t.filter((function(e){return a.split("-").some((function(t){return+t===e.cityId}))}));return n.a.createElement("div",null,r.length>0?n.a.createElement("h3",{className:h.a.title},y("deals.cityDeals.resultFor")," ",r[0].cityName):null,n.a.createElement(Y,{deals:r,cityDeal:!0}))},z=a(18),H=a.n(z),W=function(){return n.a.createElement("div",{className:H.a.loading},n.a.createElement("img",{className:H.a.loadingDesktop,src:"https://d16tr0byigrcd.cloudfront.net/images/package-loader.gif",alt:"loading"}),n.a.createElement("img",{className:H.a.loadingMobile,src:"https://d16tr0byigrcd.cloudfront.net/images/package-loader.gif",alt:"loading"}))};console.log(V);var B=Object(p.i)((function(e){var t=Object(r.useState)([]),a=Object(u.a)(t,2),o=a[0],i=a[1],d=Object(r.useState)([]),_=Object(u.a)(d,2),f=_[0],v=_[1],g=Object(r.useState)([]),b=Object(u.a)(g,2),y=b[0],k=b[1],w=Object(r.useState)(!0),E=Object(u.a)(w,2),N=E[0],L=E[1],S=Object(p.f)(),C=Object(p.g)(),j={nights:[{value:2,label:"2+",active:!1},{value:3,label:"3+",active:!1},{value:4,label:"4+",active:!1},{value:5,label:"5+",active:!1},{value:6,label:"6+",active:!1},{value:7,label:"7",active:!1}],hotelRating:[{value:3,label:"3+",active:!1},{value:4,label:"4+",active:!1},{value:5,label:"5+",active:!1}],preferedVacation:[{value:0,label:"Weekends",active:!1},{value:1,label:"Summer holiday",active:!1},{value:2,label:"Holidays break",active:!1}],hotelStars:[{value:3,label:"3+",active:!1},{value:4,label:"4+",active:!1},{value:5,label:"5+",active:!1}],cities:[],dates:[],themes:[],airports:[]},A=window.location.pathname,R=A.split("/");parseInt(R[R.length-1])&&(A=R.slice(0,R.length-1).join("/")||"/"),A="/"===A.slice(-1)?A:A+"/";var T=Object(r.useState)(A),M=Object(u.a)(T,2),U=M[0],z=(M[1],Object(r.useState)(j)),H=Object(u.a)(z,2),B=H[0],X=H[1],q=Object(r.useState)(C.hash),P=Object(u.a)(q,2),x=P[0],J=P[1],G=Object(r.useState)(!0),Z=Object(u.a)(G,2),K=Z[0],Q=Z[1],$=function(e){return function(){X((function(t){return Object(s.a)({},t,{cities:t.cities.map((function(t){var a=t.value,r=t.label;return a===e?{label:r,active:!0,value:a}:{label:r,active:!1,value:a}}))})}))}},ee=function(){X((function(e){var t={};for(var a in e)"from"!==a?t[a]=e[a].map((function(e){return Object(s.a)({},e,{active:!1})})):t.from={year:j.from.year,months:j.from.months.map((function(e){return Object(s.a)({},e,{active:!1})}))};return t}))};return Object(r.useEffect)((function(){var e=[{cityId:1,cityName:"\u05d0\u05de\u05e1\u05d8\u05e8\u05d3\u05dd, \u05d4\u05d5\u05dc\u05e0\u05d3",cityPhoto:"https://cdn.welcometothejungle.co/uploads/article/image/0055/155870/Amsterdam-2.jpg",locationAbout:"\u05e7\u05e6\u05ea \u05e2\u05dc \u05d0\u05de\u05e1\u05d8\u05e8\u05d3\u05dd",locationAdvice:"<p>test123</p>",themes:{1:"\u05e8\u05d5\u05de\u05e0\u05d8\u05d9"},deals:[{dealData:{dealId:2,outboundDate:"14/09/2020",inboundDate:"21/09/2020",price:"26829",packageDeeplinkUrl:"www.travelcheck.co.za/dynamic-package/direct/search?package_slug=amsterdam-pack&locationName=Amsterdam,Netherlands&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=14-09-2020&duration=7&steps[0][duration]=7&steps[0][requestedHotelIds]=4093032&airport_code=TLV&inbound=LO270,LO155&outbound=LO156,LO269"},hotelData:{name:"Park Plaza Victoria Amsterdam",board:"Room only",rating:4,trustYouReviews:{reviewCount:"9045",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/1000000/20000/19500/19430/4c65017a_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"11:25",landing_hour:"22:05",travel_duration_format:"11h40",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"1",city_from_airport_code:"TLV",city_to_airport_code:"AMS",default_inbound:{takeoff_hour:"07:00",landing_hour:"20:15",travel_duration_format:"12h15",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"AMS",city_to_airport_code:"TLV"}}},{dealData:{dealId:3,outboundDate:"09/12/2020",inboundDate:"11/12/2020",price:"9406",packageDeeplinkUrl:"travelcheck-co-za.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=amsterdam-pack&locationName=Amsterdam,Netherlands&rooms[0][adults]=1&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=09-12-2020&duration=2&steps[0][duration]=2&steps[0][requestedHotelIds]=4092947&airport_code=TLV&inbound=HV5801&outbound=HV5802"},hotelData:{name:"DoubleTree by Hilton Hotel Amsterdam Centraal Station",board:"Room only",rating:4,trustYouReviews:{reviewCount:"8766",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/4000000/3980000/3978000/3977985/ad408826_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"19:15",landing_hour:"23:25",travel_duration_format:"5h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"AMS",default_inbound:{takeoff_hour:"06:15",landing_hour:"11:50",travel_duration_format:"4h35",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"AMS",city_to_airport_code:"TLV"}}},{dealData:{dealId:4,outboundDate:"11/01/2021",inboundDate:"15/01/2021",price:"9035",packageDeeplinkUrl:"travelcheck-co-za.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=amsterdam-pack&locationName=Amsterdam,Netherlands&rooms[0][adults]=1&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=11-01-2021&duration=4&steps[0][duration]=4&steps[0][requestedHotelIds]=4092966&airport_code=TLV&inbound=U27933&outbound=U27934"},hotelData:{name:"Ibis Amsterdam Centre",board:"Room only",rating:4,trustYouReviews:{reviewCount:"15746",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/1000000/30000/25600/25525/b89dfb33_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"14:00",landing_hour:"18:10",travel_duration_format:"5h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"AMS",default_inbound:{takeoff_hour:"07:15",landing_hour:"13:00",travel_duration_format:"4h45",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"AMS",city_to_airport_code:"TLV"}}},{dealData:{dealId:5,outboundDate:"11/01/2021",inboundDate:"15/01/2021",price:"15964",packageDeeplinkUrl:"travelcheck-co-za.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=amsterdam-pack&locationName=Amsterdam,Netherlands&rooms[0][adults]=1&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=11-01-2021&duration=4&steps[0][duration]=4&steps[0][requestedHotelIds]=4093189&airport_code=TLV&inbound=U27933&outbound=U27934"},hotelData:{name:"Amsterdam Marriott Hotel",board:"Room only",rating:4,trustYouReviews:{reviewCount:"3576",reviewScore:"4.5",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4_5.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/1000000/30000/25900/25812/1fbbfd57_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"14:00",landing_hour:"18:10",travel_duration_format:"5h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"AMS",default_inbound:{takeoff_hour:"07:15",landing_hour:"13:00",travel_duration_format:"4h45",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"AMS",city_to_airport_code:"TLV"}}},{dealData:{dealId:6,outboundDate:"11/01/2021",inboundDate:"15/01/2021",price:"7287",packageDeeplinkUrl:"travelcheck-co-za.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=amsterdam-pack&locationName=Amsterdam,Netherlands&rooms[0][adults]=1&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=11-01-2021&duration=4&steps[0][duration]=4&steps[0][requestedHotelIds]=4093193&airport_code=TLV&inbound=U27933&outbound=U27934"},hotelData:{name:"Leonardo Hotel Amsterdam Rembrandtpark",board:"Room only",rating:4,trustYouReviews:{reviewCount:"14013",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/5000000/4350000/4342200/4342180/acf49734_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"14:00",landing_hour:"18:10",travel_duration_format:"5h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"AMS",default_inbound:{takeoff_hour:"07:15",landing_hour:"13:00",travel_duration_format:"4h45",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"AMS",city_to_airport_code:"TLV"}}},{dealData:{dealId:7,outboundDate:"11/01/2021",inboundDate:"15/01/2021",price:"9073",packageDeeplinkUrl:"travelcheck-co-za.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=amsterdam-pack&locationName=Amsterdam,Netherlands&rooms[0][adults]=1&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=11-01-2021&duration=4&steps[0][duration]=4&steps[0][requestedHotelIds]=4457670&airport_code=TLV&inbound=U27933&outbound=U27934"},hotelData:{name:"Mercure City Amsterdam City Hotel",board:"Room only",rating:4,trustYouReviews:{reviewCount:"11313",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/1000000/20000/17000/16978/b01dff99_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"14:00",landing_hour:"18:10",travel_duration_format:"5h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"AMS",default_inbound:{takeoff_hour:"07:15",landing_hour:"13:00",travel_duration_format:"4h45",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"AMS",city_to_airport_code:"TLV"}}},{dealData:{dealId:8,outboundDate:"11/01/2021",inboundDate:"15/01/2021",price:"15279",packageDeeplinkUrl:"travelcheck-co-za.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=amsterdam-pack&locationName=Amsterdam,Netherlands&rooms[0][adults]=1&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=11-01-2021&duration=4&steps[0][duration]=4&steps[0][requestedHotelIds]=4457671&airport_code=TLV&inbound=U27933&outbound=U27934"},hotelData:{name:"Grand Hotel Amr\xe2th Amsterdam",board:"Bed and Breakfast",rating:4,trustYouReviews:{reviewCount:"5199",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/2000000/1520000/1519500/1519483/c75a20ed_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"14:00",landing_hour:"18:10",travel_duration_format:"5h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"AMS",default_inbound:{takeoff_hour:"07:15",landing_hour:"13:00",travel_duration_format:"4h45",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"AMS",city_to_airport_code:"TLV"}}}]},{cityId:2,cityName:"\u05e4\u05d0\u05e4\u05d5\u05e1, \u05e7\u05e4\u05e8\u05d9\u05e1\u05d9\u05df",cityPhoto:"https://www.oliverstravels.com/blog/wp-content/uploads/2019/07/Petra-tou-Romiou-Paphos.jpg",locationAbout:"\u05e7\u05e6\u05ea \u05e2\u05dc \u05e4\u05d0\u05e4\u05d5\u05e1",locationAdvice:"<p>About Phapos</p>",themes:{2:"\u05d1\u05d8\u05df \u05d2\u05d1",3:"\u05d7\u05d5\u05e4\u05e9\u05d4 \u05de\u05e9\u05e4\u05d7\u05ea\u05d9\u05ea",4:"\u05d9\u05e2\u05d3\u05d9\u05dd \u05dc\u05dc\u05d0 \u05e7\u05d5\u05e8\u05d5\u05e0\u05d4"},deals:[{dealData:{dealId:14,outboundDate:"06/08/2020",inboundDate:"09/08/2020",price:"618",packageDeeplinkUrl:"smartair-co-il.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=paphos-package&locationName=Paphos,Cyprus&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=06-08-2020&duration=3&steps[0][duration]=3&steps[0][requestedHotelIds]=4251728&airport_code=TLV&inbound=FR1700&outbound=FR1701"},hotelData:{name:"Aloe Hotel",board:"Room only",rating:4,trustYouReviews:{reviewCount:"1762",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/3000000/2910000/2908800/2908710/f7c512ea_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"22:05",landing_hour:"23:15",travel_duration_format:"1h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"PFO",default_inbound:{takeoff_hour:"20:05",landing_hour:"21:15",travel_duration_format:"1h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"PFO",city_to_airport_code:"TLV"}}},{dealData:{dealId:15,outboundDate:"06/08/2020",inboundDate:"09/08/2020",price:"644",packageDeeplinkUrl:"smartair-co-il.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=paphos-package&locationName=Paphos,Cyprus&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=06-08-2020&duration=3&steps[0][duration]=3&steps[0][requestedHotelIds]=4251761&airport_code=TLV&inbound=FR1700&outbound=FR1701"},hotelData:{name:"Capital Coast Resort & Spa",board:"Bed and Breakfast",rating:4,trustYouReviews:{reviewCount:"6432",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/2000000/1950000/1943900/1943897/771b2ba4_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"22:05",landing_hour:"23:15",travel_duration_format:"1h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"PFO",default_inbound:{takeoff_hour:"20:05",landing_hour:"21:15",travel_duration_format:"1h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"PFO",city_to_airport_code:"TLV"}}},{dealData:{dealId:16,outboundDate:"09/08/2020",inboundDate:"13/08/2020",price:"1175",packageDeeplinkUrl:"smartair-co-il.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=paphos-package&locationName=Paphos,Cyprus&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=09-08-2020&duration=4&steps[0][duration]=4&steps[0][requestedHotelIds]=6895127&airport_code=TLV&inbound=FR1700&outbound=FR1701"},hotelData:{name:"Leonardo Plaza Cypria Maris Beach Hotel & Spa",board:"All Inclusive",rating:4,trustYouReviews:{reviewCount:"1803",reviewScore:"4.5",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4_5.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/17000000/16210000/16206100/16206071/8b4540e8_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"22:05",landing_hour:"23:15",travel_duration_format:"1h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"PFO",default_inbound:{takeoff_hour:"20:05",landing_hour:"21:15",travel_duration_format:"1h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"PFO",city_to_airport_code:"TLV"}}},{dealData:{dealId:17,outboundDate:"09/08/2020",inboundDate:"13/08/2020",price:"2132",packageDeeplinkUrl:"smartair-co-il.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=paphos-package&locationName=Paphos,Cyprus&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=09-08-2020&duration=4&steps[0][duration]=4&steps[0][requestedHotelIds]=4458386&airport_code=TLV&inbound=FR1700&outbound=FR1701"},hotelData:{name:"Leonardo Laura Beach & Splash Resort",board:"All Inclusive",rating:4,trustYouReviews:{reviewCount:"1201",reviewScore:"4.5",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4_5.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/2000000/1210000/1204400/1204390/353beffb_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"22:05",landing_hour:"23:15",travel_duration_format:"1h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"PFO",default_inbound:{takeoff_hour:"20:05",landing_hour:"21:15",travel_duration_format:"1h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"PFO",city_to_airport_code:"TLV"}}}]},{cityId:3,cityName:"\u05dc\u05e8\u05e0\u05e7\u05d4, \u05e7\u05e4\u05e8\u05d9\u05e1\u05d9\u05df",cityPhoto:"https://masa.co.il/wp-content/uploads/2018/08/larnaca.jpg",locationAbout:"\u05e7\u05e6\u05ea \u05e2\u05dc \u05dc\u05e8\u05e0\u05e7\u05d4",locationAdvice:"<p>\u05e7\u05e6\u05ea \u05e2\u05dc \u05dc\u05e8\u05e0\u05e7\u05d4</p>",themes:{2:"\u05d1\u05d8\u05df \u05d2\u05d1",3:"\u05d7\u05d5\u05e4\u05e9\u05d4 \u05de\u05e9\u05e4\u05d7\u05ea\u05d9\u05ea",4:"\u05d9\u05e2\u05d3\u05d9\u05dd \u05dc\u05dc\u05d0 \u05e7\u05d5\u05e8\u05d5\u05e0\u05d4"},deals:[{dealData:{dealId:18,outboundDate:"09/08/2020",inboundDate:"13/08/2020",price:"997",packageDeeplinkUrl:"smartair-co-il.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=larnaca-package&locationName=Larnaca,Cyprus&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=09-08-2020&duration=4&steps[0][duration]=4&steps[0][requestedHotelIds]=6095608&airport_code=TLV&inbound=A3562&outbound=A3563"},hotelData:{name:"Lok\xe0l Hotel",board:"Bed and Breakfast",rating:4,trustYouReviews:{reviewCount:"277",reviewScore:"4.5",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4_5.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/13000000/12290000/12285100/12285092/0cfd8a93_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"11:50",landing_hour:"12:50",travel_duration_format:"1h00",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"LCA",default_inbound:{takeoff_hour:"10:00",landing_hour:"11:00",travel_duration_format:"1h00",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"LCA",city_to_airport_code:"TLV"}}},{dealData:{dealId:19,outboundDate:"09/08/2020",inboundDate:"13/08/2020",price:"560",packageDeeplinkUrl:"smartair-co-il.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=larnaca-package&locationName=Larnaca,Cyprus&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=09-08-2020&duration=4&steps[0][duration]=4&steps[0][requestedHotelIds]=4250937&airport_code=TLV&inbound=A3562&outbound=A3563"},hotelData:{name:"Atrium Zenon Hotel Apartments",board:"Room only",rating:4,trustYouReviews:{reviewCount:"530",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/5000000/4310000/4303200/4303162/9312219c_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"11:50",landing_hour:"12:50",travel_duration_format:"1h00",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"LCA",default_inbound:{takeoff_hour:"10:00",landing_hour:"11:00",travel_duration_format:"1h00",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"LCA",city_to_airport_code:"TLV"}}},{dealData:{dealId:20,outboundDate:"20/08/2020",inboundDate:"23/08/2020",price:"796",packageDeeplinkUrl:"smartair-co-il.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=larnaca-package&locationName=Larnaca,Cyprus&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=20-08-2020&duration=3&steps[0][duration]=3&steps[0][requestedHotelIds]=4368906&airport_code=TLV&inbound=CY110&outbound=A3563"},hotelData:{name:"E Hotel Spa & Resort",board:"Bed and Breakfast",rating:4,trustYouReviews:{reviewCount:"586",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/2000000/1750000/1748200/1748182/8a0b232f_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"11:50",landing_hour:"12:50",travel_duration_format:"1h00",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"LCA",default_inbound:{takeoff_hour:"19:30",landing_hour:"20:30",travel_duration_format:"1h00",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"LCA",city_to_airport_code:"TLV"}}},{dealData:{dealId:21,outboundDate:"20/08/2020",inboundDate:"23/08/2020",price:"989",packageDeeplinkUrl:"smartair-co-il.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=larnaca-package&locationName=Larnaca,Cyprus&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=20-08-2020&duration=3&steps[0][duration]=3&steps[0][requestedHotelIds]=6095608&airport_code=TLV&inbound=CY110&outbound=A3563"},hotelData:{name:"Lok\xe0l Hotel",board:"Bed and Breakfast",rating:4,trustYouReviews:{reviewCount:"277",reviewScore:"4.5",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4_5.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/13000000/12290000/12285100/12285092/0cfd8a93_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"11:50",landing_hour:"12:50",travel_duration_format:"1h00",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"LCA",default_inbound:{takeoff_hour:"19:30",landing_hour:"20:30",travel_duration_format:"1h00",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"LCA",city_to_airport_code:"TLV"}}}]},{cityId:4,cityName:"\u05d0\u05ea\u05d5\u05e0\u05d4, \u05d9\u05d5\u05d5\u05df",cityPhoto:"https://img.mako.co.il/2019/09/10/Athens_i.jpg",locationAbout:"\u05d0\u05ea\u05d5\u05e0\u05d4",locationAdvice:"<p>\u05e9\u05d3\u05d2\u05e9\u05d3\u05d2</p>",themes:{4:"\u05d9\u05e2\u05d3\u05d9\u05dd \u05dc\u05dc\u05d0 \u05e7\u05d5\u05e8\u05d5\u05e0\u05d4"},deals:[{dealData:{dealId:22,outboundDate:"04/08/2020",inboundDate:"11/08/2020",price:"735",packageDeeplinkUrl:"smartair-co-il.stage.travelyo-cdn.site/dynamic-package/direct/search?package_slug=athens-package&locationName=Athens,Greece&rooms[0][adults]=2&rooms[0][seniors]=0&rooms[0][children]=0&rooms[0][babies]=0&departure_date=04-08-2020&duration=7&steps[0][duration]=7&steps[0][requestedHotelIds]=4132934&airport_code=TLV&inbound=A3924&outbound=A3925"},hotelData:{name:"Titania Hotel",board:"Bed and Breakfast",rating:4,trustYouReviews:{reviewCount:"5309",reviewScore:"4",imageUrl:"https://carsolizeprod.blob.core.windows.net/images/TrustYou/4.png"},default_img:{cdn:"",url_medium:"https://i.travelapi.com/hotels/1000000/20000/11800/11795/900959f2_z.jpg"},"trustYouReviews.reviewScore":0},flightData:{takeoff_hour:"19:20",landing_hour:"21:30",travel_duration_format:"2h10",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",nb_escales:"0",city_from_airport_code:"TLV",city_to_airport_code:"ATH",default_inbound:{takeoff_hour:"16:30",landing_hour:"18:30",travel_duration_format:"2h00",comp_logo:"air_company/UX_mini.png",comp_path:"https://d16tr0byigrcd.cloudfront.net/travelcheck/images/sfMedia/active/",city_from_airport_code:"ATH",city_to_airport_code:"TLV"}}}]}];v([{name:"\u05d3\u05d9\u05dc\u05d9\u05dd \u05d3\u05e7\u05d4 90",from_date:"26/06/2020",to_date:"09/07/2020"},{name:"\u05d4\u05d7\u05d5\u05e4\u05e9 \u05d4\u05d2\u05d3\u05d5\u05dc",from_date:"20/06/2020",to_date:"08/09/2020"},{name:"\u05d7\u05d2\u05d9 \u05ea\u05e9\u05e8\u05d9",from_date:"16/09/2020",to_date:"25/06/2020"},{name:"\u05e4\u05e1\u05d7 2021",from_date:"24/03/2021",to_date:"11/04/2021"}]),i(e),L(!1)}),[]),Object(r.useEffect)((function(){if(0!==o.length){var e=o.filter((function(e){if(0===B.themes.filter((function(e){return e.active})).length)return e;var t=e.themes,a=[];for(var r in t)a.push({value:+r,label:t[r]});return B.themes.filter((function(e){return e.active})).some((function(e){var t=e.value;return a.some((function(e){return e.value===t}))}))})).map((function(e){return Object(s.a)({},e,{deals:e.deals.filter((function(e){if(0===B.airports.filter((function(e){return e.active})).length)return e;var t=e.flightData.city_from_airport_code;return B.airports.filter((function(e){return e.active})).some((function(e){var a=e.value;return t===a}))}))})})).map((function(e){return Object(s.a)({},e,{deals:e.deals.filter((function(e){var t=e.hotelData;return 0===B.hotelStars.filter((function(e){return e.active})).length?e:B.hotelStars.filter((function(e){return e.active})).some((function(e){return e.value<=t.rating}))}))})})).map((function(e){return Object(s.a)({},e,{deals:e.deals.filter((function(e){var t=e.hotelData;return 0===B.hotelRating.filter((function(e){return e.active})).length?e:B.hotelRating.filter((function(e){return e.active})).some((function(e){return e.value<=t.trustYouReviews.reviewScore}))}))})})).map((function(e){return Object(s.a)({},e,{deals:e.deals.filter((function(e){if(0===B.nights.filter((function(e){return e.active})).length)return e;var t=e.dealData,a=t.outboundDate,r=t.inboundDate,n=function(e){return new Date(+e[2],+e[1]-1,+e[0])},o=n(a.split("/")),i=O(n(r.split("/"))-o,"d");return B.nights.filter((function(e){return e.active})).some((function(e){return e.value<=i}))}))})})).filter((function(e){return 0===B.cities.filter((function(e){return e.active})).length?e:B.cities.filter((function(e){return e.active})).some((function(t){return t.value===e.cityId}))})).map((function(e){return Object(s.a)({},e,{deals:e.deals.filter((function(e){if(0===B.preferedVacation.filter((function(e){return e.active})).length)return e;var t=e.dealData,a=t.outboundDate,r=(t.inboundDate,function(e){return new Date(+e[2],+e[1]-1,+e[0])}),n=r(a.split("/"));return B.preferedVacation.filter((function(e){return e.active})).some((function(e){var t=e.from_date,a=e.to_date,o=r(a.split("/")),i=r(t.split("/"));return console.log(m()(n)<m()(o)&&m()(n)>m()(i)),m()(n)<m()(o)&&m()(n)>m()(i)}))}))})})).map((function(e){return Object(s.a)({},e,{deals:e.deals.filter((function(e){var t,a=e.dealData.outboundDate,r=(t=a.split("/"),new Date(+t[2],+t[1]-1,+t[0]));return B.dates.some((function(e){e.label;var t=e.value,a=e.active;if(0===B.dates.filter((function(e){return e.active})).length)return!0;if(a){var n=m()(t);return n.format("MMMM")===m()(r).format("MMMM")&&n.format("YYYY")===m()(r).format("YYYY")}}))}))})})).filter((function(e){return e.deals.length>0}));k(e)}}),[B,o]),Object(r.useEffect)((function(){var e=o.map((function(e){var t=e.cityName;return{value:e.cityId,label:t,active:!1}})),t=o.map((function(e){return e.deals})).flat().filter((function(e){return e.flightData})).map((function(e){var t=e.flightData;return{value:t.city_from_airport_code,label:t.city_from_airport}})),a=[],r=new Map,n=!0,i=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(n=(u=d.next()).done);n=!0){var m=u.value;r.has(m.value)||(r.set(m.value,!0),a.push({value:m.value,label:m.label,active:!1}))}}catch(A){i=!0,l=A}finally{try{n||null==d.return||d.return()}finally{if(i)throw l}}var p=o.map((function(e){return e.deals})).flat().map((function(e){var t,a=e.dealData.outboundDate,r=(t=a.split("/"),new Date(+t[2],+t[1]-1,+t[0]));r.setDate(1);var n="".concat(V.translatedMonths[r.getMonth()],", ").concat(r.getFullYear());return{value:r,label:n=n.charAt(0).toUpperCase()+n.slice(1)}})).sort((function(e,t){return e.value-t.value})),_=[],h=new Map,v=!0,g=!1,b=void 0;try{for(var y,k=p[Symbol.iterator]();!(v=(y=k.next()).done);v=!0){var w=y.value;h.has(w.label)||(h.set(w.label,!0),_.push({value:w.value,label:w.label,active:!1}))}}catch(A){g=!0,b=A}finally{try{v||null==k.return||k.return()}finally{if(g)throw b}}var E=o.map((function(e){return e.themes})),D=[];E.forEach((function(e){var t=function(t){if(D.some((function(e){return e.value===+t})))return{v:void 0};D.push({value:+t,label:e[t],active:!1})};for(var a in e){var r=t(a);if("object"===typeof r)return r.v}}));var N=f.map((function(e){var t=e.name,a=e.from_date,r=e.to_date;return{label:t,active:!1,from_date:a,to_date:r,value:a+r}})),L=Object(s.a)({},B,{themes:D,cities:e,airports:a,dates:_,preferedVacation:N});if(!C.hash)return X(Object(s.a)({},B,{},L));var S=C.hash.slice(1).split("&").reduce((function(e,t){var a=t.split("=");return Object(s.a)({},e,Object(c.a)({},a[0],a[1].split(",")))}),{}),I={},j=function(e){var t=L[e],a=S[e];if(S.hasOwnProperty(e)){if("dates"===e)return I[e]=t.map((function(e){return a.some((function(t){return+e.value===+t}))?Object(s.a)({},e,{active:!0}):e})),"continue";if(isNaN(+a[0]))return I[e]=t.map((function(e){return a.some((function(t){return e.value===t}))?Object(s.a)({},e,{active:!0}):e})),"continue";I[e]=t.map((function(e){return a.some((function(t){return e.value===+t}))?Object(s.a)({},e,{active:!0}):e}))}};for(var O in L)j(O);X(Object(s.a)({},B,{},L,{},I))}),[o,C.hash]),Object(r.useEffect)((function(){if(0!==B.cities.length){var e="#";for(var t in B)"dates"!==t?B[t].length>0&&B[t].filter((function(e){return e.active})).length>0&&(e="".concat(e).concat(t,"=").concat(B[t].filter((function(e){return e.active})).map((function(e){return e.value})).join(","),"&")):B[t].filter((function(e){return e.active})).length>0&&(e="".concat(e,"dates=").concat(B[t].filter((function(e){return e.active})).map((function(e){return+e.value})).join(","),"&"));if(e=e.slice(0,e.length-1),1===B.cities.filter((function(e){return e.active})))return null;J(e)}}),[B]),Object(r.useEffect)((function(){if(1===B.cities.filter((function(e){return e.active})).length){var e=B.cities.filter((function(e){return e.active}))[0],t="/"===U.slice(-1)?"".concat(U).concat(e.value).concat(x):"".concat(U,"/").concat(e.value).concat(x);S.replace(t)}else if(0===B.cities.filter((function(e){return e.active})).length){if(K)return Q(!1);var a="".concat(U).concat(x);S.replace(a)}else setTimeout((function(){return S.replace(C.pathname+x)}),5)}),[x]),n.a.createElement("div",{className:h.a.App},n.a.createElement(l.a,null,n.a.createElement(p.c,null,n.a.createElement(p.a,{path:U,exact:!0},n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{countDeals:y.reduce((function(e,t){return t.deals.length+e}),0),filters:B,setFilters:X,initialRoute:U,hash:x,showCity:!0,showLocationTheme:!0,handleFilterByCity:$}),N?n.a.createElement(W,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(I,{initialRoute:U,hash:x,filters:B,initialFilters:j,setFilters:X,resetFilters:ee}),n.a.createElement(Y,{handleFilterByCity:$,initialRoute:U,deals:y,hash:x})))),n.a.createElement(p.a,{path:U+":city"},n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{countDeals:y.reduce((function(e,t){return t.deals.length+e}),0),filters:B,setFilters:X,initialRoute:U,hash:x,showCity:!1,showLocationTheme:!1}),N?n.a.createElement(W,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(I,{initialRoute:U,hash:x,filters:B,initialFilters:j,setFilters:X,resetFilters:ee}),n.a.createElement(F,{deals:y})))))))}));i.a.render(n.a.createElement(l.a,null,n.a.createElement(B,null)),document.getElementById("dealsapp"))}},[[28,1,2]]]);
//# sourceMappingURL=main.5799c1d5.chunk.js.map