(this.webpackJsonpproto=this.webpackJsonpproto||[]).push([[0],{103:function(e,a,t){e.exports={information:"DealsList_information__MjV_6",list:"DealsList_list__1_dsn"}},16:function(e,a,t){e.exports={formWrap:"FilterModal_formWrap__cT4fd",modalHeader:"FilterModal_modalHeader__3fgvd",form:"FilterModal_form__3u6-8",button:"FilterModal_button__3nqD_",tabs:"FilterModal_tabs__3LbWG",tabList:"FilterModal_tabList__KMGPG",tab:"FilterModal_tab__3IZOS",tabPanel:"FilterModal_tabPanel__32B8g",tabActive:"FilterModal_tabActive__BrzWF",tabPanelText:"FilterModal_tabPanelText__3c9Vx",label:"FilterModal_label__1ztxw",clearFilter:"FilterModal_clearFilter__373Lr"}},176:function(e,a,t){e.exports=t(296)},181:function(e,a,t){},258:function(e,a){},296:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(12),c=t.n(r),i=(t(181),t(50)),s=t(13),o=t(9),u=t(35),m=t(14),f=t(6),d=t.n(f),p=t(26),v=t(82),h=t.n(v),_=t(74),b=t.n(_),E=t(5),g=t.n(E);function y(e,a){return void 0!==a?window.Translator.trans(e,a):window.Translator.trans(e)}var N=function(e){var a=e.position,t=e.label,r=(e.options,e.handleChange),c=(e.defaultValue,e.showSearch),i=(e.activeFirst,e.value),u=Object(n.useState)(!1),f=Object(m.a)(u,2),d=f[0],p=f[1],v=Object(n.useState)(i),h=Object(m.a)(v,2),_=h[0],b=h[1],E=Object(n.useState)(""),N=Object(m.a)(E,2),O=N[0],j=N[1];Object(n.useEffect)((function(){b(i)}),[i]);return l.a.createElement("div",{className:g.a.wrapper},l.a.createElement("div",{className:g.a.label,onClick:function(){return p(!d)}},t),d?l.a.createElement("div",{className:g.a.optionListWrapper,style:a?Object(s.a)({},a,0):{left:0}},l.a.createElement("div",{className:g.a.optionListHeader},l.a.createElement("span",null,t)," ",l.a.createElement("span",{onClick:function(){r(_.map((function(e){return Object(o.a)({},e,{active:!1})}))),b(_.map((function(e){return Object(o.a)({},e,{active:!1})}))),p(!1)}},y("deals.filter.clearAll"))),c?l.a.createElement("input",{className:g.a.searchInput,type:"text",value:O,onChange:function(e){return j(e.target.value)},placeholder:"Search and select cities for filter"}):null,l.a.createElement("ul",{className:g.a.optionList},_.filter((function(e){return e.label.toLowerCase().includes(O.toLowerCase())})).map((function(e){var a,t=e.value,n=e.label,r=e.active;return l.a.createElement("li",{key:t,className:g.a.optionListItem,onClick:(a=t,function(){b((function(e){return e.map((function(e){return e.value!==a?e:Object(o.a)({},e,{active:!e.active})}))}))})},r?l.a.createElement("div",{style:{backgroundColor:"#fff"}},l.a.createElement("i",{className:"fa fa-check-square",style:{fontSize:"20px",color:"#ff9c35"},"aria-hidden":"true"})):l.a.createElement("div",{className:g.a.square}),l.a.createElement("span",{className:r?g.a.active:""},n))}))),l.a.createElement("div",{className:g.a.optionListButtons},l.a.createElement("button",{className:"".concat(g.a.button," ").concat(g.a.buttonOutline),onClick:function(){return p(!1)}},y("deals.filter.cancel")),l.a.createElement("button",{className:g.a.button,onClick:function(){r(_),p(!1)}},y("deals.filter.done")))):null)},O=function(e){var a=e.position,t=e.label,r=e.handleChange,c=e.defaultValue,i=e.value,o=Object(n.useState)(!1),u=Object(m.a)(o,2),f=u[0],d=u[1],p=Object(n.useState)(c),v=Object(m.a)(p,2),h=v[0],_=v[1];Object(n.useEffect)((function(){return _(i)}),[i]);return l.a.createElement("div",{className:g.a.wrapper},l.a.createElement("div",{className:g.a.label,onClick:function(){return d(!f)}},t),f?l.a.createElement("div",{className:g.a.optionListWrapper,style:a?Object(s.a)({},a,0):{left:0}},l.a.createElement("div",{className:g.a.optionListHeader},l.a.createElement("span",null,t)," ",l.a.createElement("span",{onClick:function(){r(c),_(c),d(!1)}},"Clear all")),l.a.createElement("ul",{className:"".concat(g.a.optionList," ").concat(g.a.starsWrap)},[{value:0,label:" ",active:!1},{value:1,label:" ",active:!1},{value:2,label:" ",active:!1},{value:3,label:" ",active:!1},{value:4,label:" ",active:!1},{value:5,label:" ",active:!1}].slice(1).map((function(e,a){var t=e.value;e.label;return l.a.createElement("li",{key:t,className:g.a.optionListItem,onClick:function(){return _(t)}},h>a?l.a.createElement("div",{style:{color:"#F19A34",margin:"3px"},key:a},l.a.createElement("i",{className:"fa fa-star"})):l.a.createElement("div",{style:{color:"#D7D9E2",margin:"3px"},key:a},l.a.createElement("i",{className:"fa fa-star"})))})).reverse()),l.a.createElement("div",{className:g.a.optionListButtons},l.a.createElement("button",{className:"".concat(g.a.button," ").concat(g.a.buttonOutline),onClick:function(){return d(!1)}},"Cancel"),l.a.createElement("button",{className:g.a.button,onClick:function(){r(h),d(!1)}},"Done"))):null)},j=function(e){var a=e.position,t=e.label,r=e.handleChange,c=(e.defaultValue,e.showSearch,e.value),i=Object(n.useState)(!1),u=Object(m.a)(i,2),f=u[0],p=u[1],v=Object(n.useState)(c.months),h=Object(m.a)(v,2),_=h[0],b=h[1],E=Object(n.useState)(c.year),N=Object(m.a)(E,2),O=N[0],j=N[1],D=Object(n.useState)(!1),C=Object(m.a)(D,2),k=C[0],S=C[1];Object(n.useEffect)((function(){b(c.months),j(c.year)}),[c]);for(var w=function(e){return function(){S(!1),j(e)}},I=[],L=d()().years();L<d()().years()+10;L++)I.push(l.a.createElement("div",{key:L,className:g.a.yearItem,onClick:w(L)},L));return l.a.createElement("div",{className:g.a.wrapper},l.a.createElement("div",{className:g.a.label,onClick:function(){return p(!f)}},t),f?l.a.createElement("div",{className:g.a.optionListWrapper,style:a?Object(s.a)({},a,0):{left:0}},l.a.createElement("div",{className:g.a.optionListHeader},l.a.createElement("span",null,t)," ",l.a.createElement("span",{onClick:function(){}},"Clear all")),l.a.createElement("div",{className:g.a.yearsWrap},l.a.createElement("div",{className:g.a.yearsSelect,onClick:function(){return S(!0)}},l.a.createElement("span",null,O),l.a.createElement("i",{className:"fa fa-chevron-down",style:{fontSize:"12px",marginRight:"5px"},"aria-hidden":"true"})),k?l.a.createElement("div",{className:g.a.yearList}," ",I):null),l.a.createElement("ul",{className:g.a.optionList},_.map((function(e){var a,t=e.value,n=e.label,r=e.active;return l.a.createElement("li",{key:t,className:g.a.optionListItem,onClick:(a=t,function(){b((function(e){return e.map((function(e){return e.value!==a?e:Object(o.a)({},e,{active:!e.active})}))}))})},r?l.a.createElement("div",{style:{backgroundColor:"#fff"}},l.a.createElement("i",{className:"fa fa-check-square",style:{fontSize:"20px",color:"#ff9c35"},"aria-hidden":"true"})):l.a.createElement("div",{className:g.a.square}),l.a.createElement("span",{className:r?g.a.active:""},n))}))),l.a.createElement("div",{className:g.a.optionListButtons},l.a.createElement("button",{className:"".concat(g.a.button," ").concat(g.a.buttonOutline),onClick:function(){return p(!1)}},y("deals.filter.cancel")),l.a.createElement("button",{className:g.a.button,onClick:function(){r({year:O,months:_}),p(!1)}},y("deals.filter.done")))):null)},D=function(e){var a=e.position,t=e.label,r=e.handleChange,c=(e.defaultValue,e.showSearch),i=(e.activeFirst,e.value),u=Object(n.useState)(!1),f=Object(m.a)(u,2),d=f[0],v=f[1],h=Object(n.useState)(i),_=Object(m.a)(h,2),b=_[0],E=_[1],N=Object(n.useState)(""),O=Object(m.a)(N,2),j=O[0],D=O[1];Object(p.e)();Object(n.useEffect)((function(){E(i)}),[i]);return l.a.createElement("div",{className:g.a.wrapper},l.a.createElement("div",{className:g.a.label,onClick:function(){return v(!d)}},t),d?l.a.createElement("div",{className:g.a.optionListWrapper,style:a?Object(s.a)({},a,0):{left:0}},l.a.createElement("div",{className:g.a.optionListHeader},l.a.createElement("span",null,t)," ",l.a.createElement("span",{onClick:function(){r(b.map((function(e){return Object(o.a)({},e,{active:!1})}))),E(b.map((function(e){return Object(o.a)({},e,{active:!1})}))),v(!1)}},"Clear all")),c?l.a.createElement("input",{className:g.a.searchInput,type:"text",value:j,onChange:function(e){return D(e.target.value)},placeholder:y("deals.filter.placeholderCities")}):null,l.a.createElement("ul",{className:g.a.optionList},b.filter((function(e){return e.label.toLowerCase().includes(j.toLowerCase())})).map((function(e){var a,t=e.value,n=e.label,r=e.active;return l.a.createElement("li",{key:t,className:g.a.optionListItem,onClick:(a=t,function(){E((function(e){return e.map((function(e){return e.value!==a?e:Object(o.a)({},e,{active:!e.active})}))}))})},r?l.a.createElement("div",{style:{backgroundColor:"#fff"}},l.a.createElement("i",{className:"fa fa-check-square",style:{fontSize:"20px",color:"#ff9c35"},"aria-hidden":"true"})):l.a.createElement("div",{className:g.a.square}),l.a.createElement("span",{className:r?g.a.active:""},n))}))),l.a.createElement("div",{className:g.a.optionListButtons},l.a.createElement("button",{className:"".concat(g.a.button," ").concat(g.a.buttonOutline),onClick:function(){return v(!1)}},y("deals.filter.cancel")),l.a.createElement("button",{className:g.a.button,onClick:function(){v(!1),r(b)}},y("deals.filter.done")))):null)},C=function(e){var a=e.filters,t=e.setFilters,n=(e.cities,e.airports,e.countDeals),r=(e.themes,function(e){return function(a){t((function(t){return Object(o.a)({},t,Object(s.a)({},e,a))}))}});return console.log(y("deals.filter.available")),l.a.createElement("div",{className:b.a.formWrap},l.a.createElement("form",{className:b.a.form,onSubmit:function(e){return e.preventDefault()}},l.a.createElement("div",{className:b.a.results},l.a.createElement("span",null,y("deals.filter.available")),l.a.createElement("span",null,n," ",y("deals.filter.results"))),l.a.createElement("div",{className:b.a.inputWrap},0===a.cities.length?null:l.a.createElement(D,{handleChange:r("cities"),label:y("deals.filter.cities"),value:a.cities,showSearch:!0}),0===a.airports.length?null:l.a.createElement(N,{handleChange:r("airports"),label:y("deals.filter.airport"),value:a.airports}),0===a.themes.length?null:l.a.createElement(N,{handleChange:r("themes"),label:y("deals.filter.locationTheme"),value:a.themes}),l.a.createElement(O,{handleChange:r("hotelStars"),label:y("deals.filter.stars"),value:a.hotelStars,defaultValue:0}),l.a.createElement(j,{handleChange:r("from"),label:y("deals.filter.monthOfTheYear"),value:a.from}),l.a.createElement(N,{handleChange:r("nights"),label:y("deals.filter.nights"),value:a.nights,defaultValue:[{value:0,label:"All"}],activeFirst:!0}),l.a.createElement(N,{handleChange:r("preferedVacation"),label:y("deals.filter.when"),value:a.preferedVacation}),l.a.createElement(N,{handleChange:r("hotelRating"),label:y("deals.filter.ratings"),value:a.hotelRating,position:"right"}))))},k=(t(31),t(166)),S=(t(167),t(251),t(168));t(295);function w(){var e=Object(k.a)(["\n  position: relative;\n  width: 225px;\n  & .SingleDatePicker,\n  .SingleDatePickerInput {\n    border-color: #bbb;\n    margin-top: 2px;\n    .DateInput {\n      width: 100%;\n      // height: 40px;\n      display: flex;\n\n      .DateInput_input {\n        font-size: 1rem;\n        border-bottom: 0;\n        padding: 16px 16px 16px 38px;\n        background: transparent;\n        text-align: right;\n      }\n    }\n\n    .SingleDatePickerInput__withBorder {\n      border-radius: 4px;\n      overflow: hidden;\n\n      :hover,\n      .DateInput_input__focused {\n        border: 1px solid orange;\n      }\n\n      .CalendarDay__selected {\n        background: blue;\n        border: blueviolet;\n      }\n    }\n\n    .SingleDatePicker_picker.SingleDatePicker_picker {\n      top: 43px;\n      left: 2px;\n      /* top: 43px !important;\n      left: 2px !important; */\n    }\n  }\n"]);return w=function(){return e},e}S.a.div(w());t(86),t(332);var I=t(172),L=t(326),x=(t(328),t(102)),F=t.n(x),M=(t(329),t(331),Object(I.a)({palette:{primary:F.a,secondary:F.a},status:{danger:"red"}}),Object(L.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,width:225,textAlign:"right",background:"transparent"},selectEmpty:{marginTop:e.spacing(2)},select:{}}})),t(16),t(87)),W=t.n(M),R=function(e){var a=e.list,t=e.show,n=e.chipLabel,r=e.handleDelete;return t?l.a.createElement("div",{className:W.a.chip},l.a.createElement("span",null,n),a.filter((function(e){return e.active})).map((function(e){var a=e.value,t=e.label;return l.a.createElement("div",{key:a,className:W.a.chipLabel,onClick:function(){return r(a)}},t," ",l.a.createElement("i",{style:{color:"#aaa"},className:"fa fa-times","aria-hidden":"true"}))}))):null},Y=function(e){var a=e.filters,t=e.setFilters,n=(e.initialFilters,a.nights),r=a.hotelRating,c=a.preferedVacation,i=a.hotelStars,u=a.cities,m=a.from,f=a.themes,d=a.airports,p=function(e){return function(a){t((function(t){if("hotelStars"===e)return Object(o.a)({},t,Object(s.a)({},e,0));if("from"===e)return Object(o.a)({},t,Object(s.a)({},e,{year:t.from.year,months:t.from.months.map((function(e){return e.value===a?Object(o.a)({},e,{active:!e.active}):e}))}));var n=t[e].map((function(e){return e.value===a?Object(o.a)({},e,{active:!e.active}):e}));return Object(o.a)({},t,Object(s.a)({},e,n))}))}};return l.a.createElement("div",{className:W.a.chipWrap},l.a.createElement(R,{chipLabel:"".concat(y("deals.chips.cities"),":"),list:u,show:0!==u.filter((function(e){return e.active})).length,handleDelete:p("cities")}),l.a.createElement(R,{chipLabel:"".concat(y("deals.chips.nights"),":"),list:n,show:0!==n.filter((function(e){return e.active})).length,handleDelete:p("nights")}),l.a.createElement(R,{chipLabel:"".concat(y("deals.chips.theme"),":"),list:f,show:0!==f.filter((function(e){return e.active})).length,handleDelete:p("themes")}),l.a.createElement(R,{chipLabel:"".concat(y("deals.chips.preferedVacation"),":"),list:c,show:0!==c.filter((function(e){return e.active})).length,handleDelete:p("preferedVacation")}),l.a.createElement(R,{chipLabel:"".concat(y("deals.chips.hotelStars"),":"),list:[{value:i,label:i+"+",active:!0}],show:0!==i,handleDelete:p("hotelStars")}),l.a.createElement(R,{chipLabel:"".concat(y("deals.chips.airports"),":"),list:d,show:0!==d.filter((function(e){return e.active})).length,handleDelete:p("airports")}),l.a.createElement(R,{chipLabel:"".concat(y("deals.chips.year")," ").concat(m.year),list:m.months,show:0!==m.months.filter((function(e){return e.active})).length,handleDelete:p("from")}),l.a.createElement(R,{chipLabel:"".concat(y("deals.chips.hotelRating"),":"),list:r,show:0!==r.filter((function(e){return e.active})).length,handleDelete:p("hotelRating")}))},z=t(7),T=t.n(z);function V(e,a){var t,n,l,r,c,i,s;switch(s=parseInt(Math.floor(e/1e3)),i=parseInt(Math.floor(s/60)),c=parseInt(Math.floor(i/60)),t=parseInt(Math.floor(c/24)),r=parseInt(s%60),l=parseInt(i%60),n=parseInt(c%24),a){case"s":return s;case"m":return i;case"h":return c;case"d":return t;default:return{d:t,h:n,m:l,s:r}}}var A=function(e){for(var a=e.deal,t=Object(n.useState)(!1),r=Object(m.a)(t,2),c=r[0],i=r[1],s=a.hotelData,o=a.flightData,u=a.dealData,f=(o.takeoff_date,o.takeoff_hour,o.landing_hour),d=(o.landing_date,o.travel_duration_format),p=o.default_inbound,v=o.nb_escales,h=o.default_inbound,_=(h.takeoff_date,h.takeoff_hour),b=h.landing_hour,E=(h.landing_date,h.travel_duration_format),g=u.outboundDate,N=u.inboundDate,O=u.price,j=s.rating,D=s.name,C=s.trustYouReviews,k=s.default_img,S=[],w=1;w<=5;w++)w<=j?S.push(l.a.createElement("div",{style:{color:"#F19A34",margin:"3px"},key:w},l.a.createElement("i",{className:"fa fa-star"}))):S.push(l.a.createElement("div",{style:{color:"#D7D9E2",margin:"3px"},key:w},l.a.createElement("i",{className:"fa fa-star"})));var I=function(e){return new Date(+e[2],+e[1]-1,+e[0])},L=I(g.split("/")),x=I(N.split("/")),F=V(x-L,"d"),M="".concat(L.getDate(),". ").concat(L.toLocaleString("default",{month:"long"})," ").concat(L.getFullYear()),W="".concat(x.getDate(),". ").concat(x.toLocaleString("default",{month:"long"})," ").concat(x.getFullYear());return console.log(v),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:T.a.content,style:{backgroundColor:c?"#F7F7FA":""},onClick:function(){return i(!c)}},l.a.createElement("div",{className:T.a.contentWrap},l.a.createElement("div",{className:T.a.left},l.a.createElement("span",null,y("deals.dealContent.from")),l.a.createElement("span",null,"$",O),l.a.createElement("span",null,y("deals.dealContent.perPerson")),l.a.createElement("div",{className:T.a.rating},S.reverse()),l.a.createElement("div",{className:T.a.detailsButton},l.a.createElement("i",{className:"fa fa-chevron-down",style:{fontSize:"10px",marginRight:"5px"},"aria-hidden":"true"}),y("deals.dealContent.details"))),l.a.createElement("div",{className:T.a.right},l.a.createElement("span",null,g,"-",N),l.a.createElement("span",null,F," ",y("deals.dealContent.nights")),l.a.createElement("span",null,D))),c?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:T.a.details},l.a.createElement("div",{className:T.a.detailsDate},l.a.createElement("span",null,M),l.a.createElement("span",null,y("deals.dealContent.flight"))),l.a.createElement("div",{className:T.a.detailsTime},l.a.createElement("div",{className:T.a.detailsLanding},l.a.createElement("span",null,y("deals.dealContent.landingTime")),l.a.createElement("span",null,f," ",l.a.createElement("i",{className:"fa fa-clock-o",style:{fontSize:"16px"},"aria-hidden":"true"}))),l.a.createElement("div",{className:T.a.detailsHour},l.a.createElement("span",null,d.toLowerCase(),"m"),l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("i",{className:"fa fa-map-marker",style:{fontSize:"10px"},"aria-hidden":"true"}),l.a.createElement("div",{className:T.a.line}),l.a.createElement("i",{className:"fa fa-sort-desc",style:{fontSize:"12px",transform:"rotate(90deg)"},"aria-hidden":"true"})),l.a.createElement("span",null,0===+v?y("deals.dealContent.directFlight"):"".concat(+v," ").concat(y("deals.dealContent.stops")))),l.a.createElement("div",{className:T.a.detailsLanding},l.a.createElement("span",null,y("deals.dealContent.departure")),l.a.createElement("span",null,f," ",l.a.createElement("i",{className:"fa fa-clock-o",style:{fontSize:"16px"},"aria-hidden":"true"}))),l.a.createElement("i",{className:"fa fa-plane",style:{fontSize:"18px",transform:"rotate(-135deg)",position:"relative",top:"-15px",right:"-12px",color:"#ccc"},"aria-hidden":"true"})),l.a.createElement("div",{className:T.a.detailsDate},l.a.createElement("span",null,W),l.a.createElement("span",null)),l.a.createElement("div",{className:T.a.detailsTime},l.a.createElement("div",{className:T.a.detailsLanding},l.a.createElement("span",null,y("deals.dealContent.landingTime")),l.a.createElement("span",null,b," ",l.a.createElement("i",{className:"fa fa-clock-o",style:{fontSize:"16px"},"aria-hidden":"true"}))),l.a.createElement("div",{className:T.a.detailsHour},l.a.createElement("span",null,E.toLowerCase(),"m"),l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("i",{className:"fa fa-map-marker",style:{fontSize:"10px"},"aria-hidden":"true"}),l.a.createElement("div",{className:T.a.line}),l.a.createElement("i",{className:"fa fa-sort-desc",style:{fontSize:"12px",transform:"rotate(90deg)"},"aria-hidden":"true"})),l.a.createElement("span",null,0===+p.nb_escales?y("deals.dealContent.directFlight"):"".concat(+v," ").concat(y("deals.dealContent.stops")))),l.a.createElement("div",{className:T.a.detailsLanding},l.a.createElement("span",null,y("deals.dealContent.return")),l.a.createElement("span",null,_," ",l.a.createElement("i",{className:"fa fa-clock-o",style:{fontSize:"16px"},"aria-hidden":"true"}))),l.a.createElement("i",{className:"fa fa-plane",style:{fontSize:"18px",transform:"rotate(-135deg)",position:"relative",top:"-15px",right:"-12px",color:"#ccc"},"aria-hidden":"true"}))),l.a.createElement("div",{className:T.a.accomodation},l.a.createElement("p",null,y("deals.dealContent.accomodation")),l.a.createElement("div",{className:T.a.accomodationContent},l.a.createElement("div",{className:T.a.accomodationRating},l.a.createElement("div",{className:T.a.rating},S),l.a.createElement("div",{className:T.a.hotelName},s.Name),l.a.createElement("div",{className:T.a.reviewScore},5===C.reviewScore?l.a.createElement("span",null,y("deals.dealContent.best")):4===C.reviewScore?l.a.createElement("span",null,y("deals.dealContent.excelent")):l.a.createElement("span",null,y("deals.dealContent.good"))," ",l.a.createElement("span",null,"(",C.reviewCount," ",y("deals.dealContent.reviews"),")")," ",l.a.createElement("span",null,C.reviewScore))),l.a.createElement("img",{className:T.a.accomodationImage,src:k,alt:"hotel"}))),l.a.createElement("button",{className:T.a.makeReservation},y("deals.dealContent.reservation"))):null))},P=function(e){var a=e.deals,t=e.hash,n=a.cityPhoto,r=a.cityName,c=a.cityId;return l.a.createElement("div",{className:T.a.wrapper},l.a.createElement("img",{src:n,alt:"city",className:T.a.image}),l.a.createElement("div",{className:T.a.blurWrapper},l.a.createElement("div",{className:T.a.blur},l.a.createElement("img",{src:n,alt:"city",className:T.a.blurImage}))),l.a.createElement("p",{className:T.a.caption},r,l.a.createElement("span",{className:T.a.location},l.a.createElement("i",{className:"fa fa-map-marker"}))),l.a.createElement("div",{className:T.a.wrapperCaption},y("deals.dealItem.hotelFlight")),a.deals.slice(0,3).map((function(e,a){return l.a.createElement(A,{key:a,deal:e})})),l.a.createElement(i.b,{to:"/deals-test-test/deals-test-filters/all/".concat(c,"/").concat(t),className:T.a.moreOffers},l.a.createElement("i",{className:"fa fa-chevron-down",style:{fontSize:"10px",marginRight:"5px"},"aria-hidden":"true"})," ",y("deals.dealItem.moreOffers")))},B=function(e){return e.deals.deals.map((function(e,a){var t=e.hotelData,n=t.name,r=t.default_img;return l.a.createElement("div",{key:a,className:T.a.wrapper},l.a.createElement("img",{src:r,alt:"hotel photo",className:T.a.image}),l.a.createElement("div",{className:T.a.blurWrapper},l.a.createElement("div",{className:T.a.blur},l.a.createElement("img",{src:r,alt:"hotel photo",className:T.a.blurImage}))),l.a.createElement("p",{className:T.a.caption},n,l.a.createElement("span",{className:T.a.location},l.a.createElement("i",{className:"fa fa-map-marker"}))),l.a.createElement(A,{deal:e}))}))},q=t(103),H=t.n(q),J=function(e){var a=e.deals,t=e.cityDeal,n=e.hash;return l.a.createElement("div",{className:H.a.list},0===a.length?l.a.createElement("h5",{className:H.a.information},y("deals.dealList.noFlights"),"."):a.map((function(e,a){return t?l.a.createElement(B,{key:a,deals:e}):l.a.createElement(P,{key:a,deals:e,hash:n})})))};var G=function(e){var a=e.deals,t=Object(p.g)().city,n=a.filter((function(e){return t.split("-").some((function(a){return+a===e.cityId}))}));return l.a.createElement("div",null,n.length>0?l.a.createElement("h3",{className:h.a.title},y("deals.cityDeals.resultFor")," ",n[0].cityName):null,l.a.createElement(J,{deals:n,cityDeal:!0}))};var K=Object(p.h)((function(e){var a=Object(n.useState)([]),t=Object(m.a)(a,2),r=t[0],c=t[1],f=Object(n.useState)([]),v=Object(m.a)(f,2),_=v[0],b=v[1],E=Object(p.e)(),g=Object(p.f)(),y={nights:[{value:1,label:"1",active:!1},{value:2,label:"2",active:!1},{value:3,label:"3 ",active:!1},{value:4,label:"4",active:!1},{value:5,label:"5",active:!1}],hotelRating:[{value:3,label:"0-3 Good (0-1000 reviews)",active:!1},{value:4,label:"4 Excelent (1000-5000 reviews)",active:!1},{value:5,label:"5 Best (5000-and over 10,000 reviews)",active:!1}],preferedVacation:[{value:0,label:"Weekends",active:!1},{value:1,label:"Summer holiday",active:!1},{value:2,label:"Holidays break",active:!1}],hotelStars:0,cities:[],from:{year:2021,months:Object(u.a)(d.a.months("mm").map((function(e){return{value:+d()().month(e).format("M"),label:e,active:!1}}))).reverse()},themes:[],airports:[]},N=Object(n.useState)(y),O=Object(m.a)(N,2),j=O[0],D=O[1],k=Object(n.useState)(g.hash),S=Object(m.a)(k,2),w=S[0],I=S[1];return Object(n.useEffect)((function(){fetch("https://s3.eu-central-1.amazonaws.com/js.smartair.co.il/test/dealsJson4.json").then((function(e){return e.json()})).then((function(e){c(e)}))}),[]),Object(n.useEffect)((function(){if(0!==r.length){var e=r.filter((function(e){if(0===j.themes.filter((function(e){return e.active})).length)return e;var a=e.themes,t=[];for(var n in a)t.push({value:+n,label:a[n]});return j.themes.filter((function(e){return e.active})).some((function(e){var a=e.value;return t.some((function(e){return e.value===a}))}))})).map((function(e){return Object(o.a)({},e,{deals:e.deals.filter((function(e){if(0===j.airports.filter((function(e){return e.active})).length)return e;var a=e.flightData.city_from_airport_code;return j.airports.filter((function(e){return e.active})).some((function(e){var t=e.value;return a===t}))}))})})).map((function(e){return Object(o.a)({},e,{deals:e.deals.filter((function(e){var a=e.hotelData;return 0===j.hotelStars?e:a.rating>=j.hotelStars}))})})).map((function(e){return Object(o.a)({},e,{deals:e.deals.filter((function(e){var a=e.hotelData;return 0===j.hotelRating.filter((function(e){return e.active})).length?e:j.hotelRating.filter((function(e){return e.active})).some((function(e){var t=e.value;return 3===t?t>=a.trustYouReviews.reviewScore:t===a.trustYouReviews.reviewScore}))}))})})).map((function(e){return Object(o.a)({},e,{deals:e.deals.filter((function(e){if(0===j.nights.filter((function(e){return e.active})).length)return e;var a=e.dealData,t=a.outboundDate,n=a.inboundDate,l=function(e){return new Date(+e[2],+e[1]-1,+e[0])},r=l(t.split("/")),c=V(l(n.split("/"))-r,"d");return j.nights.filter((function(e){return e.active})).some((function(e){return e.value===c}))}))})})).filter((function(e){return 0===j.cities.filter((function(e){return e.active})).length?e:j.cities.filter((function(e){return e.active})).some((function(a){return a.value===e.cityId}))})).map((function(e){return Object(o.a)({},e,{deals:e.deals.filter((function(e){if(0===j.preferedVacation.filter((function(e){return e.active})).length)return e;var a=e.dealData,t=a.outboundDate,n=a.inboundDate,l=function(e){return new Date(+e[2],+e[1]-1,+e[0])},r=l(t.split("/")),c=V(l(n.split("/"))-r,"d");return j.preferedVacation.filter((function(e){return e.active})).some((function(e){var a=e.value;if(0===a){for(var t=["Thursday","Friday","Saturday","Sunday"],n=!1,l=0;l<c;l++)t.includes(d()(r).add(1,"day").format("dddd"))&&(n=!0);return n}return 1===a?"July"===d()(r).format("MMMM")||"August"===d()(r).format("MMMM"):2===a?"April"===d()(r).format("MMMM"):void 0}))}))})})).map((function(e){return Object(o.a)({},e,{deals:e.deals.filter((function(e){var a,t=e.dealData.outboundDate,n=(a=t.split("/"),new Date(+a[2],+a[1]-1,+a[0]));return j.from.months.some((function(e){if(0===j.from.months.filter((function(e){return e.active})).length)return d()().year(j.from.year).format("YYYY")===d()(n).format("YYYY");if(e.active){var a=d()().year(j.from.year);return a.month(e.value-1),a.format("MMMM")===d()(n).format("MMMM")&&a.format("YYYY")===d()(n).format("YYYY")}}))}))})})).filter((function(e){return e.deals.length>0}));b(e)}}),[j,r]),Object(n.useEffect)((function(){var e=r.map((function(e){var a=e.cityName;return{value:e.cityId,label:a,active:!1}})),a=r.map((function(e){return e.deals})).flat().map((function(e){var a=e.flightData;return{value:a.city_from_airport_code,label:a.city_from_airport}})),t=[],n=new Map,l=!0,c=!1,i=void 0;try{for(var u,m=a[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var f=u.value;n.has(f.value)||(n.set(f.value,!0),t.push({value:f.value,label:f.label,active:!1}))}}catch(y){c=!0,i=y}finally{try{l||null==m.return||m.return()}finally{if(c)throw i}}var d=r.map((function(e){return e.themes})),p=[];d.forEach((function(e){var a=function(a){if(p.some((function(e){return e.value===+a})))return{v:void 0};p.push({value:+a,label:e[a],active:!1})};for(var t in e){var n=a(t);if("object"===typeof n)return n.v}}));var v=Object(o.a)({},j,{themes:p,cities:e,airports:t});if(!g.hash)return D(Object(o.a)({},j,{},v));var h=g.hash.slice(1).split("&").reduce((function(e,a){var t=a.split("=");return Object(o.a)({},e,Object(s.a)({},t[0],t[1].split(",")))}),{}),_={},b=function(e){var a=v[e],t=h[e];if("from"===e){var n=h.year?h.year[0]:null,l=h.months;return l&&l.length>0&&n?(_.from={year:+n,months:v.from.months.map((function(e){return l.some((function(a){return e.value===+a}))?Object(o.a)({},e,{active:!0}):e}))},"continue"):(n&&(_.from=Object(o.a)({},v.from,{year:+n})),console.log(l),l&&l.length>0&&(_.from=Object(o.a)({},v.from,{months:v.from.months.map((function(e){return l.some((function(a){return e.value===+a}))?Object(o.a)({},e,{active:!0}):e}))})),"continue")}if(h.hasOwnProperty(e)){if("hotelStars"===e)return _[e]=+t[0],"continue";if(isNaN(+t[0]))return _[e]=a.map((function(e){return t.some((function(a){return e.value===a}))?Object(o.a)({},e,{active:!0}):e})),"continue";_[e]=a.map((function(e){return t.some((function(a){return e.value===+a}))?Object(o.a)({},e,{active:!0}):e}))}};for(var E in v)b(E);D(Object(o.a)({},j,{},v,{},_))}),[r,g.hash]),Object(n.useEffect)((function(){if(0!==j.cities.length){var e="#";for(var a in j)"from"!==a?"hotelStars"!==a?j[a].length>0&&j[a].filter((function(e){return e.active})).length>0&&(e="".concat(e).concat(a,"=").concat(j[a].filter((function(e){return e.active})).map((function(e){return e.value})).join(","),"&")):e="".concat(e).concat(a,"=").concat(j[a],"&"):(e="".concat(e,"year=").concat(j[a].year,"&"),j[a].months.filter((function(e){return e.active})).length>0&&(e="".concat(e,"months=").concat(j[a].months.filter((function(e){return e.active})).map((function(e){return e.value})).join(","),"&")));e=e.slice(0,e.length-1),I(e),E.replace(E.location.pathname+e)}}),[j]),console.log(j),window.location.href.includes("/deals-test-test/deals-test-filters/all")||E.push("/deals-test-test/deals-test-filters/all"),l.a.createElement("div",{className:h.a.App},l.a.createElement(i.a,null,l.a.createElement(p.a,{path:"/"},l.a.createElement(C,{countDeals:_.reduce((function(e,a){return a.deals.length+e}),0),filters:j,setFilters:D})),l.a.createElement(p.a,{path:"/deals-test-test/deals-test-filters/all",exact:!0},l.a.createElement(Y,{filters:j,initialFilters:y,setFilters:D}),l.a.createElement(J,{deals:_,hash:w})),l.a.createElement(p.a,{path:"/deals-test-test/deals-test-filters/all/:city"},l.a.createElement(Y,{filters:j,initialFilters:y,setFilters:D}),l.a.createElement(G,{deals:_}))))}));c.a.render(l.a.createElement(i.a,null,l.a.createElement(K,null)),document.getElementById("dealsapp"))},5:function(e,a,t){e.exports={wrapper:"style_wrapper__GAB4U",label:"style_label__q8k67",optionList:"style_optionList__2hZRC",optionListWrapper:"style_optionListWrapper__7TiFu",optionListItem:"style_optionListItem__1_h_g",optionListHeader:"style_optionListHeader__2kCNS",optionListButtons:"style_optionListButtons__QX6NN",starsWrap:"style_starsWrap__3tsbF",active:"style_active__3LsdE",button:"style_button__1C9Jr",buttonOutline:"style_buttonOutline__1dL16",square:"style_square__38RuA",searchInput:"style_searchInput__1yjbs",yearsSelect:"style_yearsSelect__2KNXJ",yearsWrap:"style_yearsWrap__1Dwed",yearList:"style_yearList__2y-Eo",yearItem:"style_yearItem__3uhiq"}},7:function(e,a,t){e.exports={wrapper:"DealItem_wrapper__1aPmh",wrapperCaption:"DealItem_wrapperCaption__yIx3D",image:"DealItem_image__2HAO6",blur:"DealItem_blur__1qaA6",blurWrapper:"DealItem_blurWrapper__1MgNo",blurImage:"DealItem_blurImage__2JNW3",location:"DealItem_location__25rUK",caption:"DealItem_caption__258FM",content:"DealItem_content__3mytx",contentWrap:"DealItem_contentWrap__2k6Lh",left:"DealItem_left__3rGXx",right:"DealItem_right__3Keoa",rating:"DealItem_rating__1KTXE",detailsButton:"DealItem_detailsButton__37SrU",moreOffers:"DealItem_moreOffers__2HmmW",details:"DealItem_details__ugsRT",detailsDate:"DealItem_detailsDate__eoBg3",detailsTime:"DealItem_detailsTime__Q6eUN",detailsLanding:"DealItem_detailsLanding__hlPFR",detailsHour:"DealItem_detailsHour__3unQn",line:"DealItem_line__1DV7t",accomodation:"DealItem_accomodation__2qOBh",accomodationContent:"DealItem_accomodationContent__3WQF5",accomodationImage:"DealItem_accomodationImage__1nwJK",accomodationRating:"DealItem_accomodationRating__1VOLD",hotelName:"DealItem_hotelName__213aC",reviewScore:"DealItem_reviewScore__2ikFC",makeReservation:"DealItem_makeReservation__2AGIR"}},74:function(e,a,t){e.exports={formWrap:"Filter_formWrap__2kqIm",form:"Filter_form__Ce9v7",results:"Filter_results__3Aub9",inputWrap:"Filter_inputWrap__1Mi5h",button:"Filter_button__ml8PL"}},82:function(e,a,t){},86:function(e,a,t){e.exports={selectWrap:"Select_selectWrap__2TVn1",select:"Select_select__2emx4",option:"Select_option__1ZD-P",label:"Select_label__2pCy3"}},87:function(e,a,t){e.exports={chipWrap:"style_chipWrap__24PA9",chip:"style_chip__y9sqy",chipLabel:"style_chipLabel__2o48s"}}},[[176,1,2]]]);
//# sourceMappingURL=main.c76c5d6b.chunk.js.map